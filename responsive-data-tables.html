<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Responsive data tables | Guide to Infographiq</title>
  <meta name="description" content="This is a guide to the Infographiq software library for displaying data. The output format for this guide is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.22.2 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Responsive data tables | Guide to Infographiq" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a guide to the Infographiq software library for displaying data. The output format for this guide is bookdown::gitbook." />
  <meta name="github-repo" content="marinebon/infographiq" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Responsive data tables | Guide to Infographiq" />
  
  <meta name="twitter:description" content="This is a guide to the Infographiq software library for displaying data. The output format for this guide is bookdown::gitbook." />
  

<meta name="author" content="Ben Best, Jai Ranganathan" />


<meta name="date" content="2021-06-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="modal-windows.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Infographiq</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#infographiq-art-data"><i class="fa fa-check"></i><b>1.1</b> Infographiq: art + data</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#infographiq-responsive-tables"><i class="fa fa-check"></i><b>1.2</b> Infographiq: responsive tables</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2</b> Getting Started</a><ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html#javascript_basics"><i class="fa fa-check"></i><b>2.1</b> The basics of Javascript</a></li>
<li class="chapter" data-level="2.2" data-path="getting-started.html"><a href="getting-started.html#localhost"><i class="fa fa-check"></i><b>2.2</b> Running Javascript on your own machine</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="image-creation.html"><a href="image-creation.html"><i class="fa fa-check"></i><b>3</b> Creating an Infographiq image</a><ul>
<li class="chapter" data-level="3.1" data-path="image-creation.html"><a href="image-creation.html#illustrator"><i class="fa fa-check"></i><b>3.1</b> Adobe Illustrator</a><ul>
<li class="chapter" data-level="3.1.1" data-path="image-creation.html"><a href="image-creation.html#illustrator_layers"><i class="fa fa-check"></i><b>3.1.1</b> Layer organization</a></li>
<li class="chapter" data-level="3.1.2" data-path="image-creation.html"><a href="image-creation.html#illustrator_raster"><i class="fa fa-check"></i><b>3.1.2</b> Dealing with raster-based elements</a></li>
<li class="chapter" data-level="3.1.3" data-path="image-creation.html"><a href="image-creation.html#illustrator_saving"><i class="fa fa-check"></i><b>3.1.3</b> Saving the image</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="image-creation.html"><a href="image-creation.html#inkscape"><i class="fa fa-check"></i><b>3.2</b> Inkscape</a><ul>
<li class="chapter" data-level="3.2.1" data-path="image-creation.html"><a href="image-creation.html#layer-organization"><i class="fa fa-check"></i><b>3.2.1</b> Layer organization</a></li>
<li class="chapter" data-level="3.2.2" data-path="image-creation.html"><a href="image-creation.html#inkscape_XML"><i class="fa fa-check"></i><b>3.2.2</b> Editing the layer XML</a></li>
<li class="chapter" data-level="3.2.3" data-path="image-creation.html"><a href="image-creation.html#inkscape_raster"><i class="fa fa-check"></i><b>3.2.3</b> Dealing with raster-based elements</a></li>
<li class="chapter" data-level="3.2.4" data-path="image-creation.html"><a href="image-creation.html#inkscape_saving"><i class="fa fa-check"></i><b>3.2.4</b> Saving the image</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="link-table.html"><a href="link-table.html"><i class="fa fa-check"></i><b>4</b> Link table</a><ul>
<li class="chapter" data-level="4.1" data-path="link-table.html"><a href="link-table.html#table_structure"><i class="fa fa-check"></i><b>4.1</b> Table structure</a></li>
<li class="chapter" data-level="4.2" data-path="link-table.html"><a href="link-table.html#table_columns"><i class="fa fa-check"></i><b>4.2</b> Table columns</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="infographic-javascript.html"><a href="infographic-javascript.html"><i class="fa fa-check"></i><b>5</b> Infographic Javascript</a><ul>
<li class="chapter" data-level="5.1" data-path="infographic-javascript.html"><a href="infographic-javascript.html#dependencies"><i class="fa fa-check"></i><b>5.1</b> Dependencies</a></li>
<li class="chapter" data-level="5.2" data-path="infographic-javascript.html"><a href="infographic-javascript.html#example"><i class="fa fa-check"></i><b>5.2</b> Example</a></li>
<li class="chapter" data-level="5.3" data-path="infographic-javascript.html"><a href="infographic-javascript.html#parameters"><i class="fa fa-check"></i><b>5.3</b> Function parameters</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="html-layout-with-bootstrap.html"><a href="html-layout-with-bootstrap.html"><i class="fa fa-check"></i><b>6</b> HTML Layout with Bootstrap</a></li>
<li class="chapter" data-level="7" data-path="modal-windows.html"><a href="modal-windows.html"><i class="fa fa-check"></i><b>7</b> Modal windows</a><ul>
<li class="chapter" data-level="7.1" data-path="modal-windows.html"><a href="modal-windows.html#what_is"><i class="fa fa-check"></i><b>7.1</b> What is a modal window?</a></li>
<li class="chapter" data-level="7.2" data-path="modal-windows.html"><a href="modal-windows.html#modal1"><i class="fa fa-check"></i><b>7.2</b> Example 1: static image</a></li>
<li class="chapter" data-level="7.3" data-path="modal-windows.html"><a href="modal-windows.html#modal2"><i class="fa fa-check"></i><b>7.3</b> Example 2: responsive graph with Highcharts</a></li>
<li class="chapter" data-level="7.4" data-path="modal-windows.html"><a href="modal-windows.html#modal3"><i class="fa fa-check"></i><b>7.4</b> Example 3: responsive graph with Google Charts (1 of 2)</a></li>
<li class="chapter" data-level="7.5" data-path="modal-windows.html"><a href="modal-windows.html#example-4-responsive-graph-with-google-charts-2-of-2"><i class="fa fa-check"></i><b>7.5</b> Example 4: responsive graph with Google Charts (2 of 2)</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="responsive-data-tables.html"><a href="responsive-data-tables.html"><i class="fa fa-check"></i><b>8</b> Responsive data tables</a><ul>
<li class="chapter" data-level="8.1" data-path="infographic-javascript.html"><a href="infographic-javascript.html#dependencies"><i class="fa fa-check"></i><b>8.1</b> Dependencies</a></li>
<li class="chapter" data-level="8.2" data-path="infographic-javascript.html"><a href="infographic-javascript.html#parameters"><i class="fa fa-check"></i><b>8.2</b> Function parameter</a></li>
<li class="chapter" data-level="8.3" data-path="responsive-data-tables.html"><a href="responsive-data-tables.html#how_works"><i class="fa fa-check"></i><b>8.3</b> How <code>link_table()</code> works</a></li>
<li class="chapter" data-level="8.4" data-path="responsive-data-tables.html"><a href="responsive-data-tables.html#data"><i class="fa fa-check"></i><b>8.4</b> Data structure</a></li>
<li class="chapter" data-level="8.5" data-path="responsive-data-tables.html"><a href="responsive-data-tables.html#csv_location"><i class="fa fa-check"></i><b>8.5</b> Data table location</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Guide to Infographiq</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="responsive-data-tables" class="section level1">
<h1><span class="header-section-number">Chapter 8</span> Responsive data tables</h1>
<p>The InfographiqJS Javascript library (<a href="https://marinebon.org/infographiqJS/">located here</a>) can create responsive data tables. For an example of this functionality, open <a href="https://marinebon.org/infographiqJS/table_modalv1.html">this demonstration page</a> and click on any row to display the associated figure.</p>
<p>In this section of the guide, we discuss how InfographiqJS works to create this kind of responsive data table. Within the InfographiqJS library, there is a function called <code>link_table()</code>: this is the function used to generate the responsive data table.</p>
<div id="dependencies" class="section level2">
<h2><span class="header-section-number">8.1</span> Dependencies</h2>
<p>In order for <code>link_table()</code> to work, it relies upon other Javascript and CSS libraries that must be loaded prior to the InfographiqJS Javascript being loaded. These other libraries are known as the <strong>dependencies</strong> for InfographiqJS.</p>
<p><code>link_table()</code> Dependencies:</p>
<ol style="list-style-type: decimal">
<li><p><a href="https://jquery.com/">jQuery (version 3.5.1)</a>.</p></li>
<li><p><a href="https://d3js.org/">D3 (version 6)</a>.</p></li>
<li><p><a href="https://datatables.net/">DataTables (version 1.10)</a>.</p></li>
<li><p><a href="https://fontawesome.com/">Font Awesome (version 5.11)</a>.</p></li>
</ol>
</div>
<div id="parameters" class="section level2">
<h2><span class="header-section-number">8.2</span> Function parameter</h2>
<p>There is one parameter for <code>link_table()</code> and it is required:</p>
<ul>
<li><code>csvLink</code>: URL of data (saved in csv format) to be displayed as a responsive table. This data needs to be set up in a very particular way and we go into it further down on this page.</li>
</ul>
</div>
<div id="how_works" class="section level2">
<h2><span class="header-section-number">8.3</span> How <code>link_table()</code> works</h2>
<p>The <code>link_table()</code> approach to displaying modal windows differs from that taken by <code>link_svg()</code> - the latter being the InfographiqJS function used to create clickable infographics. The simplest way to explain <code>link_table()</code> is to walk through the <code>&lt;body&gt;</code> of the HTML of the <a href="https://marinebon.org/infographiqJS/table_modalv1.html">demonstration page</a>.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb15-1"><a href="responsive-data-tables.html#cb15-1"></a><span class="kw">&lt;h1&gt;</span>Table<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb15-2"><a href="responsive-data-tables.html#cb15-2"></a><span class="kw">&lt;table</span><span class="ot"> id=</span><span class="st">&quot;example&quot;</span><span class="ot"> class</span> <span class="ot">=</span> <span class="st">&quot;display&quot;</span><span class="ot"> width=</span><span class="st">&quot;100%&quot;</span><span class="ot"> style</span> <span class="ot">=</span> <span class="st">&quot;cursor: pointer;&quot;</span><span class="kw">&gt;&lt;/table&gt;</span></span></code></pre></div>
<p>First off, we title the page and define an empty <code>&lt;table&gt;</code> container. <code>link_table()</code> will position the responsive table here.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb16-1"><a href="responsive-data-tables.html#cb16-1"></a><span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;modal1&quot;</span><span class="ot"> class=</span><span class="st">&quot;modal&quot;</span> <span class="kw">&gt;</span></span>
<span id="cb16-2"><a href="responsive-data-tables.html#cb16-2"></a>  <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;modal-content animate&quot;</span> <span class="kw">&gt;</span></span>
<span id="cb16-3"><a href="responsive-data-tables.html#cb16-3"></a>    <span class="kw">&lt;div</span><span class="ot"> class</span> <span class="ot">=</span> <span class="st">&quot;container&quot;</span><span class="kw">&gt;</span></span>
<span id="cb16-4"><a href="responsive-data-tables.html#cb16-4"></a>      <span class="kw">&lt;h3</span><span class="ot"> style</span> <span class="ot">=</span> <span class="st">&quot;text-align: center;&quot;</span><span class="kw">&gt;&lt;span</span><span class="ot"> id=</span><span class="st">&quot;title&quot;</span><span class="kw">&gt;&lt;/span&gt;&lt;/h3&gt;</span></span>
<span id="cb16-5"><a href="responsive-data-tables.html#cb16-5"></a>      <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;img_target&quot;</span> <span class="kw">&gt;&lt;/div&gt;</span></span>
<span id="cb16-6"><a href="responsive-data-tables.html#cb16-6"></a>      <span class="kw">&lt;span</span><span class="ot"> id=</span><span class="st">&quot;caption&quot;</span><span class="kw">&gt;&lt;/span&gt;</span></span>
<span id="cb16-7"><a href="responsive-data-tables.html#cb16-7"></a>      <span class="kw">&lt;span</span><span class="ot"> id=</span><span class="st">&quot;datalink&quot;</span><span class="kw">&gt;&lt;/span&gt;</span></span>
<span id="cb16-8"><a href="responsive-data-tables.html#cb16-8"></a>      <span class="kw">&lt;span</span><span class="ot"> id=</span><span class="st">&quot;methodslink&quot;</span><span class="kw">&gt;&lt;/span&gt;</span></span>
<span id="cb16-9"><a href="responsive-data-tables.html#cb16-9"></a>    <span class="kw">&lt;/div&gt;</span></span>
<span id="cb16-10"><a href="responsive-data-tables.html#cb16-10"></a>    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;container&quot;</span> <span class="kw">&gt;</span></span>
<span id="cb16-11"><a href="responsive-data-tables.html#cb16-11"></a>      <span class="kw">&lt;button</span><span class="ot"> type=</span><span class="st">&quot;button&quot;</span><span class="ot">  onclick=</span><span class="st">&quot;document.getElementById(&#39;modal1&#39;).style.display=&#39;none&#39;&quot;</span><span class="ot"> class=</span><span class="st">&quot;closebtn&quot;</span><span class="kw">&gt;</span>CLOSE<span class="kw">&lt;/button&gt;</span></span>
<span id="cb16-12"><a href="responsive-data-tables.html#cb16-12"></a>    <span class="kw">&lt;/div&gt;</span></span>
<span id="cb16-13"><a href="responsive-data-tables.html#cb16-13"></a>  <span class="kw">&lt;/div&gt;</span></span>
<span id="cb16-14"><a href="responsive-data-tables.html#cb16-14"></a><span class="kw">&lt;/div&gt;</span></span></code></pre></div>
<p>Next, we define another empty container called “modal1”. This container is not visible when the page is first loaded, but will be used display the modal content. When the user clicks on a given row, <code>link_table()</code> fills in the modal container with the relevant content (based on data in that row) and then makes the container visible. When the user clicks out of the modal container, <code>link_table()</code> makes that container invisible again.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb17-1"><a href="responsive-data-tables.html#cb17-1"></a><span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;https://code.jquery.com/jquery-3.5.1.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb17-2"><a href="responsive-data-tables.html#cb17-2"></a><span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;https://d3js.org/d3.v6.min.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb17-3"><a href="responsive-data-tables.html#cb17-3"></a><span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb17-4"><a href="responsive-data-tables.html#cb17-4"></a><span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css&quot;</span><span class="kw">&gt;</span></span>
<span id="cb17-5"><a href="responsive-data-tables.html#cb17-5"></a><span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.0/css/all.min.css&quot;</span><span class="kw">&gt;</span></span>
<span id="cb17-6"><a href="responsive-data-tables.html#cb17-6"></a><span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&#39;https://marinebon.org/infographiqJS/libs/infographiq_latest/infographiq.js&#39;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb17-7"><a href="responsive-data-tables.html#cb17-7"></a><span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;https://marinebon.org/infographiqJS/libs/infographiq_latest/infographiq_table.css&quot;</span><span class="kw">&gt;</span> </span>
<span id="cb17-8"><a href="responsive-data-tables.html#cb17-8"></a><span class="kw">&lt;script&gt;</span></span>
<span id="cb17-9"><a href="responsive-data-tables.html#cb17-9"></a>    <span class="kw">var</span> csvLink1 <span class="op">=</span> <span class="st">&quot;https://docs.google.com/spreadsheets/d/e/2PACX-1vS3WnWFSuZA3I6d16n9bJo33cd_3mL6_XVIf1CRbKzJM6NvLKs6B39-m6jfRfZyFr2lxGQ7dcN0MWxl/pub?gid=0&amp;single=true&amp;output=csv&quot;</span><span class="op">;</span></span>
<span id="cb17-10"><a href="responsive-data-tables.html#cb17-10"></a>    <span class="at">link_table</span>(csvLink1)<span class="op">;</span></span>
<span id="cb17-11"><a href="responsive-data-tables.html#cb17-11"></a><span class="kw">&lt;/script&gt;</span></span></code></pre></div>
<p>Lastly, we load the relevant Javascript/CSS libraries and run the function <code>link_table()</code>.</p>
</div>
<div id="data" class="section level2">
<h2><span class="header-section-number">8.4</span> Data structure</h2>
<p>The data loaded into <code>link_table()</code> via the function parameter <code>csvLink</code> needs to be set up in a very specific way. To see the data structure, please see <a href="https://docs.google.com/spreadsheets/d/1JeyhWEPBGeO_vi9gPSrB8rgKMHzS7RaZ_VHo5JcP7VA/edit#gid=0">the following Google Sheet</a>.</p>
<ol style="list-style-type: decimal">
<li><p>The first line of the table must be the column header.</p></li>
<li><p>The table must be saved in .csv (comma-separated values) format.</p></li>
<li><p>The column order matters (meaning, keep the column order in the Google Sheet) .</p></li>
</ol>
<p><strong>Table columns (all required)</strong> {#columns}</p>
<ul>
<li><p><strong>EPU</strong>: Ecological Production Unit (shown in responsive table only).</p></li>
<li><p><strong>indicator_name</strong>: Indicator Name is displayed in the responsive table and as the title of the modal window.</p></li>
<li><p><strong>indicator_chunk_title</strong>: not used in either the responsive table or the modal window.</p></li>
<li><p><strong>image_url</strong>: the link to the Github page for an image of a figure (modal window only).</p></li>
<li><p><strong>caption</strong>: the caption to the figure (modal window only).</p></li>
<li><p><strong>alt_text</strong>: text description of figure image (modal window only).</p></li>
<li><p><strong>data_link</strong>: URL of data source for figure (modal window only).</p></li>
<li><p><strong>time_min</strong>: the year that data collection began for the figure (responsive table only).</p></li>
<li><p><strong>time_max</strong>: the year that data collection ended for the figure (responsive table only).</p></li>
<li><p><strong>methods_link</strong>: URL for description of methods used for figure creation (modal window only).</p></li>
</ul>
</div>
<div id="csv_location" class="section level2">
<h2><span class="header-section-number">8.5</span> Data table location</h2>
<p>Where to save the data table used to generate the responsive table? The simplest answer would be to just save the data table, in csv-delimited format, in a location where it can be accessed via URL.</p>
<p>Another option though would be to save the data table as a Google Sheet. In fact, that is exactly where the data table for the demonstration page lives. If you observe the demonstration page HTML below, you’ll see that the variable <code>csvLink1</code> links to a Google Sheet (<a href="https://docs.google.com/spreadsheets/d/1JeyhWEPBGeO_vi9gPSrB8rgKMHzS7RaZ_VHo5JcP7VA/edit#gid=0">the very same Google Sheet</a> mentioned earlier on this page).</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb18-1"><a href="responsive-data-tables.html#cb18-1"></a><span class="kw">&lt;script&gt;</span></span>
<span id="cb18-2"><a href="responsive-data-tables.html#cb18-2"></a>    <span class="kw">var</span> csvLink1 <span class="op">=</span> <span class="st">&quot;https://docs.google.com/spreadsheets/d/e/2PACX-1vS3WnWFSuZA3I6d16n9bJo33cd_3mL6_XVIf1CRbKzJM6NvLKs6B39-m6jfRfZyFr2lxGQ7dcN0MWxl/pub?gid=0&amp;single=true&amp;output=csv&quot;</span><span class="op">;</span></span>
<span id="cb18-3"><a href="responsive-data-tables.html#cb18-3"></a>    <span class="at">link_table</span>(csvLink1)<span class="op">;</span></span>
<span id="cb18-4"><a href="responsive-data-tables.html#cb18-4"></a><span class="kw">&lt;/script&gt;</span></span></code></pre></div>
<p>The reason this can work is that Google Sheets allows for the publishing of data as a URL-accessible and csv-delimited file. Here’s how to do that. While in the target Google Sheet, click File &gt; “Publish to the web”.</p>
<p><img src="publish_web.png" width="303" /></p>
<p>In the window that pops up (see image below):</p>
<ol style="list-style-type: decimal">
<li><p>Select “Link”.</p></li>
<li><p>Select the relevant sheet.</p></li>
<li><p>Select “comma-separated values”.</p></li>
<li><p>Click “Published content &amp; settings” to ensure that the settings look something like the image below.</p></li>
<li><p>Hit the green Publish button.</p></li>
<li><p>A URL will appear in the window in a text box. This URL is the link to the csv-version of the google sheet. Save this URL and use it as the value for the variable <code>csvLink1</code>.</p></li>
</ol>
<p><img src="publish_web2.png" width="415" /></p>
<p>This approach will only work if your version of Google Sheets allows you to share it outside of your organization. Take a look at the bottom of your “Publish to the web” window (see below). If you are unable to unclick the “Restrict access to the following” checkbox, this Google Sheets method of saving the data won’t work for you.</p>
<p><img src="publish_web3.png" width="415" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="modal-windows.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/marinebon/infographiq/edit/main/07-data-table.Rmd",
"text": "Edit"
},
"history": {
"link": "https://github.com/marinebon/infographiq/commits/main/07-data-table.Rmd",
"text": null
},
"view": {
"link": "https://github.com/marinebon/infographiq/blob/main/07-data-table.Rmd",
"text": null
},
"download": [["infographiq.pdf", "Adobe pdf"], ["infographiq.docx", "Word docx"]],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
