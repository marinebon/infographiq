<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Creating an Infographiq image | Guide to Infographiq</title>
  <meta name="description" content="This is a guide to the Infographiq software library for displaying data. The output format for this guide is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.22.2 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Creating an Infographiq image | Guide to Infographiq" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a guide to the Infographiq software library for displaying data. The output format for this guide is bookdown::gitbook." />
  <meta name="github-repo" content="marinebon/infographiq" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Creating an Infographiq image | Guide to Infographiq" />
  
  <meta name="twitter:description" content="This is a guide to the Infographiq software library for displaying data. The output format for this guide is bookdown::gitbook." />
  

<meta name="author" content="Ben Best, Jai Ranganathan" />


<meta name="date" content="2021-06-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="getting-started.html"/>
<link rel="next" href="link-table.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Infographiq</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2</b> Getting Started</a><ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html#javascript_basics"><i class="fa fa-check"></i><b>2.1</b> The basics of Javascript</a></li>
<li class="chapter" data-level="2.2" data-path="getting-started.html"><a href="getting-started.html#localhost"><i class="fa fa-check"></i><b>2.2</b> Running Javascript on your own machine</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="image-creation.html"><a href="image-creation.html"><i class="fa fa-check"></i><b>3</b> Creating an Infographiq image</a><ul>
<li class="chapter" data-level="3.1" data-path="image-creation.html"><a href="image-creation.html#illustrator"><i class="fa fa-check"></i><b>3.1</b> Adobe Illustrator</a><ul>
<li class="chapter" data-level="3.1.1" data-path="image-creation.html"><a href="image-creation.html#illustrator_layers"><i class="fa fa-check"></i><b>3.1.1</b> Layer organization</a></li>
<li class="chapter" data-level="3.1.2" data-path="image-creation.html"><a href="image-creation.html#illustrator_raster"><i class="fa fa-check"></i><b>3.1.2</b> Dealing with raster-based elements</a></li>
<li class="chapter" data-level="3.1.3" data-path="image-creation.html"><a href="image-creation.html#illustrator_saving"><i class="fa fa-check"></i><b>3.1.3</b> Saving the image</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="image-creation.html"><a href="image-creation.html#inkscape"><i class="fa fa-check"></i><b>3.2</b> Inkscape</a><ul>
<li class="chapter" data-level="3.2.1" data-path="image-creation.html"><a href="image-creation.html#layer-organization"><i class="fa fa-check"></i><b>3.2.1</b> Layer organization</a></li>
<li class="chapter" data-level="3.2.2" data-path="image-creation.html"><a href="image-creation.html#inkscape_XML"><i class="fa fa-check"></i><b>3.2.2</b> Editing the layer XML</a></li>
<li class="chapter" data-level="3.2.3" data-path="image-creation.html"><a href="image-creation.html#inkscape_raster"><i class="fa fa-check"></i><b>3.2.3</b> Dealing with raster-based elements</a></li>
<li class="chapter" data-level="3.2.4" data-path="image-creation.html"><a href="image-creation.html#inkscape_saving"><i class="fa fa-check"></i><b>3.2.4</b> Saving the image</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="link-table.html"><a href="link-table.html"><i class="fa fa-check"></i><b>4</b> The link table</a><ul>
<li class="chapter" data-level="4.1" data-path="link-table.html"><a href="link-table.html#table_structure"><i class="fa fa-check"></i><b>4.1</b> Table structure</a></li>
<li class="chapter" data-level="4.2" data-path="link-table.html"><a href="link-table.html#table_columns"><i class="fa fa-check"></i><b>4.2</b> Table columns</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Guide to Infographiq</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="image_creation" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Creating an Infographiq image</h1>
<p>Infographiq works with vector-based images that are set up in a very specific way. Here we provide instructions for two vector graphics packages: <a href="https://www.adobe.com/products/illustrator.html">Adobe Illustrator</a> (requires a paid subscription) and <a href="https://inkscape.org/">Inkscape</a> (free).</p>
<p>You’ll also need the example folder for Infographiq, which provides a full working example that you can fiddle around with. We’ll be referring to this folder extensively in this guide and you can <a href="https://marinebon.org/infographiqJS/infographiq_example.zip">download a compressed version here</a>. Just unzip the folder when you get it.</p>
<p>You can see the working example <a href="https://marinebon.org/infographiqJS/infographiq_example/infographic.html">in action here</a>.</p>
<div id="illustrator" class="section level2">
<h2><span class="header-section-number">3.1</span> Adobe Illustrator</h2>
<p>This guide assumes you have a basic knowledge of using Illustrator (<a href="https://helpx.adobe.com/illustrator/tutorials.html">here is a great series of tutorials</a>). In particular, you’ll need to understand how layers work in Illustrator (and <a href="https://helpx.adobe.com/illustrator/using/layers.html">here’s a tutorial</a> for that).</p>
<p>In the Infographiq example folder, you’ll find a file called illustrator_example.ai. Open this file in Illustrator and you’ll see the following:</p>
<p><img src="illustrator1.png" /></p>
<p>If you check out the Layers tab for the image, you’ll see that the image is composed of three layers:</p>
<p><img src="illustrator2.png" /></p>
<p>This is the required layer order of an Infographiq image.</p>
<div id="illustrator_layers" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Layer organization</h3>
<ol style="list-style-type: decimal">
<li>text: This first layer is optional and, if present, must be called lower case “text”. This layer contains additional explanatory text and graphics for the image that the Infographiq Javascript can toggle on and off. To see this in action, click the “Text in image” button in the upper right of our <a href="https://marinebon.org/infographiqJS/infographiq_example/infographic.html">Infographiq example</a>.</li>
</ol>
<p>In the Layers panel, we can see that the “text” layer contains several elements:</p>
<p><img src="illustrator3.png" /></p>
<p>There are two essential things here:</p>
<p>A. All of the elements are vector-based (nothing raster-based). If you happen to have raster-based elements in your image (or are not sure), we can tell you what to do about it in this section of this document: <a href="image-creation.html#illustrator_raster">dealing with raster-based elements</a>.</p>
<p>B. None of the elements within this layer are named “text”. The following (where one of the elements is named text) is not allowed:</p>
<p><img src="illustrator4.png" /></p>
<ol start="2" style="list-style-type: decimal">
<li>icons. The second layer is required and contains all of the clickable elements in the image. This layer can be named anything, except for “text” or the name of any clickable element in the image.</li>
</ol>
<p>If you check out the Layers panel for “icons”, you’ll see that it contains five sublayers (chartexample1 through 5):</p>
<p><img src="illustrator5.png" /></p>
<p>Each of these sublayers defines a single clickable component of the image.</p>
<ul>
<li><p>The names of these sublayers should not contain spaces, commas, or be called “text”.</p></li>
<li><p>All elements within the sublayers should be vector-based and not raster-based. If you happen to have raster-based elements in your image (or are not sure), we can tell you what to do about it in this section of this document: <a href="image-creation.html#illustrator_raster">dealing with raster-based elements</a>.</p></li>
<li><p>Nothing should overlap on top of anything you want to be clickable.</p></li>
<li><p>Each sublayer contains all of the elements for a single clickable icon.</p></li>
<li><p>The elements in the sublayer, if named, should not have the same name as the sublayer itself. So, for example, the following won’t work (the element within chartexample1 is also called chartexample1):</p></li>
</ul>
<p><img src="illustrator6.png" /></p>
<ol start="3" style="list-style-type: decimal">
<li>background_elements: an optional layer that contains all non-responsive elements of the image. This layer can be called anything (other than “text” or the name of a clickable sublayer). It is ignored by the Infographiq Javascript.</li>
</ol>
</div>
<div id="illustrator_raster" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Dealing with raster-based elements</h3>
<p><strong>How do I tell if something is raster or vector-based?</strong></p>
<p>One dead give-away that an image is raster-based is if the file is saved in a raster-based file format. You can determine the file format of a file by checking out the last few characters of the file name (the file extension). Some common raster-based file formats are (with their extensions):</p>
<ul>
<li><p>.gif (Graphic Interchange Format)</p></li>
<li><p>.jpg or .jpeg (Joint Photographic Experts Group)</p></li>
<li><p>.png (Portable Network Graphics)</p></li>
<li><p>.psd (Photoshop Document)</p></li>
<li><p>.tiff (Tag Image File Format)</p></li>
</ul>
<p>Checking the file extension isn’t a fool-proof system though. Just because an image is saved in some other format than those above doesn’t mean that it isn’t a raster-based image. So, how can you know for sure? Well, open the image up in Illustrator and take a close look at the Layer panel. If the image is raster-based, it will say <code>&lt;Image&gt;</code> under the appropriate layer (be sure to click the arrow just to the left of the layer name to see what it contains). See below for an example:</p>
<p><img src="illustrator11.png" /></p>
<p><strong>Converting a raster to a vector</strong></p>
<p>If you have some raster-based elements that you’d like to include in your Infographiq image, Illustrator has got you covered. You’ll just need to convert those elements into vectors and here’s how to do that:</p>
<ol style="list-style-type: decimal">
<li>Select image (from Layers; or Select All from menu).</li>
</ol>
<p><img src="illustrator8.png" /></p>
<ol start="2" style="list-style-type: decimal">
<li>From the menu, select Object &gt; Image Trace &gt; Make and Expand.</li>
</ol>
<p><img src="illustrator9.png" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Delete (trash icon in Layers menu) or Unite/Merge (in Pathfinder menu) the selected layers until you achieve the desired simplified icon result.</li>
</ol>
<p><img src="illustrator10.png" /></p>
</div>
<div id="illustrator_saving" class="section level3">
<h3><span class="header-section-number">3.1.3</span> Saving the image</h3>
<p>To be used by Infographiq, the file must be exported in svg format. To do so:</p>
<ol style="list-style-type: decimal">
<li>From the menu, click: File &gt; Export &gt; Export As.</li>
<li>In the following screen, select svg format. Be sure to click “Use Artboards”.</li>
<li>In the final screen that pops up, be sure to set Object IDs to “Layer Names”, as follows:</li>
</ol>
<p><img src="illustrator7.png" /></p>
<ol start="4" style="list-style-type: decimal">
<li>The default for Illustrator is to add an “01” to your svg file name (so, “example.svg” becomes “example01.svg”. Change the file name back to your desired choice.</li>
</ol>
</div>
</div>
<div id="inkscape" class="section level2">
<h2><span class="header-section-number">3.2</span> Inkscape</h2>
<p>This guide assumes you have a basic knowledge of using Inkscape (<a href="https://inkscape.org/learn/tutorials/">here is a great series of tutorials</a>). In particular, you’ll need to understand how layers work in Inkscape (and <a href="https://roy-torley.github.io/Inkscape_Tutorial/Tutorial06/Tutorial06.html">here’s a tutorial</a> for that).</p>
<p>In the Infographiq example folder, you’ll find a file called inkscape_example.svg. Open this file in Inkscape and you’ll see the following:</p>
<p><img src="inkscape1.png" /></p>
<p>If you check out the Layers panel for the image, you’ll see the following:</p>
<p><img src="inkscape2.png" /></p>
<p>This is the required layer order of an Inkscape image.</p>
<div id="layer-organization" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Layer organization</h3>
<ol style="list-style-type: decimal">
<li><p>text: This first layer is optional and, if present, must be called lower case “text”. This layer contains additional explanatory text and graphics for the image that the Infographiq Javascript can toggle on and off. To see this in action, click the “Text in image” button in the upper right of our <a href="https://marinebon.org/infographiqJS/infographiq_example/infographic.html">Infographiq example</a>. The essential thing here is that all of the elements are vector-based (nothing raster-based). If you happen to have raster-based elements in your image (or are not sure), we can tell you what to do about it in this section of this document: <a href="image-creation.html#inkscape_raster">dealing with raster-based elements</a>.</p></li>
<li><p>icons. The second layer is required and contains all of the clickable elements in the image. This layer can be named anything, except for “text” or the name of any clickable element in the image. If you check out the Layers panel for “icons” (see image just above), you’ll see that it contains five sublayers (chartexample1 through 5). Each of these sublayers defines a single clickable component of the image.</p>
<ul>
<li><p>The names of these sublayers should not contain spaces, commas, or be called “text”.</p></li>
<li><p>All elements within the sublayers should be vector-based and not raster-based. If you happen to have raster-based elements in your image (or are not sure), we can tell you what to do about it in this section of this document: <a href="image-creation.html#inkscape_raster">dealing with raster-based elements</a>.</p></li>
<li><p>Nothing should overlap on top of anything you want to be clickable.</p></li>
<li><p>Each sublayer contains all of the elements for a single clickable icon.</p></li>
</ul></li>
<li><p>background_elements: an optional layer that contains all non-responsive elements of the image. This layer can be called anything (other than “text” or the name of a clickable layer). It is ignored by the Infographiq Javascript.</p></li>
</ol>
</div>
<div id="inkscape_XML" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Editing the layer XML</h3>
<p>In order for the Infographiq image to behave properly, you will need to edit the XML for the image. In order to do so, you’ll need to have two panels visible:</p>
<ol style="list-style-type: decimal">
<li><p>Layers (to show from Menu, Layer &gt; Layers…)</p></li>
<li><p>XML Editor (to show from Menu, Edit &gt; XML Editor…)</p></li>
</ol>
<p>Let’s zoom in on these panels for the image inkscape_example.svg:</p>
<p><img src="inkscape3.png" /></p>
<p>For each of your layers:</p>
<ol style="list-style-type: decimal">
<li>Click the associated entry in the XML Editor (hint: the “inkscape:label” will match the layer name).</li>
<li>In the box to the right, change the id to match the layer name.</li>
<li>Select the “text” layer in the XML Editor. In the box to the right, click the red X by “display: inline” (thereby deleting that row). Note: in the example file inkscape_example.svg, the “display: inline” line has already been deleted.</li>
</ol>
</div>
<div id="inkscape_raster" class="section level3">
<h3><span class="header-section-number">3.2.3</span> Dealing with raster-based elements</h3>
<p><strong>How do I tell if something is raster or vector-based?</strong></p>
<p>One dead give-away that an image is raster-based is if the file is saved in a raster-based file format. You can determine the file format of a file by checking out the last few characters of the file name (the file extension). Some common raster-based file formats are (with their extensions):</p>
<ul>
<li><p>.gif (Graphic Interchange Format)</p></li>
<li><p>.jpg or .jpeg (Joint Photographic Experts Group)</p></li>
<li><p>.png (Portable Network Graphics)</p></li>
<li><p>.psd (Photoshop Document)</p></li>
<li><p>.tiff (Tag Image File Format)</p></li>
</ul>
<p>Checking the file extension isn’t a fool-proof system though. Just because an image is saved in some other format than those above doesn’t mean that it isn’t a raster-based image. So, how can you know for sure? Well, open the image up in Inkscape and right click on it. If in the options you see “Image Properties…”, you’ve got a raster-based image on your hands (see image below).</p>
<p><img src="inkscape4.png" /></p>
<p><strong>Converting a raster to a vector</strong></p>
<p>If you have some raster-based elements that you’d like to include in your Infographiq image, Inkscape has got you covered. You’ll just need to convert those elements into vectors and <a href="https://inkscape.org/doc/tutorials/tracing/tutorial-tracing.html">here’s a tutorial</a> on how to do that.</p>
</div>
<div id="inkscape_saving" class="section level3">
<h3><span class="header-section-number">3.2.4</span> Saving the image</h3>
<p>To be used by Infographiq, the file must be exported in svg format. Good news! Inkscape’s native file format is already svg. When you save the image, just be sure to save it in the format “Inkscape SVG (*.svg)”.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting-started.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="link-table.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/marinebon/infographiq/edit/main/02-image.Rmd",
"text": "Edit"
},
"history": {
"link": "https://github.com/marinebon/infographiq/commits/main/02-image.Rmd",
"text": null
},
"view": {
"link": "https://github.com/marinebon/infographiq/blob/main/02-image.Rmd",
"text": null
},
"download": [["infographiq.pdf", "Adobe pdf"], ["infographiq.docx", "Word docx"]],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
